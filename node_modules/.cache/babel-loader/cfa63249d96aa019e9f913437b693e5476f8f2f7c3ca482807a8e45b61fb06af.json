{"ast":null,"code":"import React,{useEffect,createContext}from'react';import{useFormik}from'formik';import*as Yup from'yup';import'./login.css';import{getUserData}from'./fetchapi';import{useNavigate}from'react-router-dom';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';// Import the styles\nimport{useUser}from'./UserContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const{setUsername}=useUser();const navigate=useNavigate();const UserContext=/*#__PURE__*/createContext(undefined);const validationSchema=Yup.object({username:Yup.string().required('Username is required').min(3,'Username must be at least 3 characters'),password:Yup.string().required('Password is required')//   .min(6, 'Password must be at least 6 characters'),\n});const formik=useFormik({initialValues:{username:'',password:''},validationSchema:validationSchema,onSubmit:async values=>{console.log('Login form values:',values);const url='http://localhost:3000/auth';try{const users=await getUserData(url);console.log(users,\"ddsdsdsd\");// const user = users\nconst user=users.find(user=>user.username.toLowerCase().trim()===values.username.toLowerCase().trim()&&user.password===values.password);//   console.log(user,\"logined\")\nif(user){setUsername(user.username);navigate('/todomain');console.log(user,\"logined\");}else{console.log(\"no user found\");toast.error(\"No User Found\");}}catch(error){console.log(\"Error fetching data:\",error);toast.error(\"Error fetching data\");}}});useEffect(()=>{},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"logincontainer\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"containerlogin shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",name:\"username\",type:\"text\",onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.username,className:\"input\"}),formik.touched.username&&formik.errors.username?/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:formik.errors.username}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formField\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",onChange:formik.handleChange,onBlur:formik.handleBlur,value:formik.values.password,className:\"input\"}),formik.touched.password&&formik.errors.password?/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:formik.errors.password}):null]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:formik.isSubmitting,children:\"Login\"})]})]})]});};export default Login;","map":{"version":3,"names":["React","useEffect","createContext","useFormik","Yup","getUserData","useNavigate","ToastContainer","toast","useUser","jsx","_jsx","jsxs","_jsxs","Login","setUsername","navigate","UserContext","undefined","validationSchema","object","username","string","required","min","password","formik","initialValues","onSubmit","values","console","log","url","users","user","find","toLowerCase","trim","error","className","children","handleSubmit","htmlFor","id","name","type","onChange","handleChange","onBlur","handleBlur","value","touched","errors","disabled","isSubmitting"],"sources":["/Users/shakilase/Documents/shakila files/Todo-Task/src/Components/Login.tsx"],"sourcesContent":["import React, { useEffect,useContext,createContext } from 'react'\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport './login.css'\nimport { getUserData, User } from './fetchapi';\nimport { useNavigate } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css'; // Import the styles\nimport { useUser } from './UserContext'; \n\ninterface UserContextType {\n    username: string | null;\n    setUsername: React.Dispatch<React.SetStateAction<string | null>>;\n}\nconst Login = () => {\n    const { setUsername } = useUser();\n    const navigate = useNavigate();\n    const UserContext = createContext<UserContextType | undefined>(undefined);\n    const validationSchema = Yup.object({\n        username: Yup.string()\n            .required('Username is required')\n            .min(3, 'Username must be at least 3 characters'),\n        password: Yup.string()\n            .required('Password is required')\n        //   .min(6, 'Password must be at least 6 characters'),\n    });\n\n\n    const formik = useFormik({\n        initialValues: {\n            username: '',\n            password: '',\n        },\n        validationSchema: validationSchema,\n            onSubmit: async (values) => {\n                console.log('Login form values:', values);\n                const url = 'http://localhost:3000/auth';\n                try {\n                    const users = await getUserData(url);\n                    console.log(users, \"ddsdsdsd\");\n\n                    // const user = users\n                    const user = users.find((user: User) => \n                        user.username.toLowerCase().trim() === values.username.toLowerCase().trim() && \n                        user.password === values.password\n                      );\n                    //   console.log(user,\"logined\")\n                   if(user){\n                    setUsername(user.username);\n                    navigate('/todomain');\n                    console.log(user,\"logined\")\n                   }else{\n                    console.log(\"no user found\")\n                    toast.error(\"No User Found\");\n                   }\n                } catch (error) {\n                    console.log(\"Error fetching data:\", error);\n                    toast.error(\"Error fetching data\");\n                    \n                }\n            },\n    });\n\n    useEffect(() => {\n\n\n    }, []);\n\n\n    return (\n        <div className='logincontainer'>\n             <ToastContainer />\n            <div className='containerlogin shadow-lg'>\n                <h2>Login</h2>\n                <form onSubmit={formik.handleSubmit} className='form'>\n                    {/* Username Field */}\n                    <div className='formField'>\n                        <label htmlFor=\"username\">Username</label>\n                        <input\n                            id=\"username\"\n                            name=\"username\"\n                            type=\"text\"\n                            onChange={formik.handleChange}\n                            onBlur={formik.handleBlur}\n                            value={formik.values.username}\n                            className='input'\n\n                        />\n                        {formik.touched.username && formik.errors.username ? (\n                            <div className='error'>{formik.errors.username}</div>\n                        ) : null}\n                    </div>\n\n                    {/* Password Field */}\n                    <div className='formField'>\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                            id=\"password\"\n                            name=\"password\"\n                            type=\"password\"\n                            onChange={formik.handleChange}\n                            onBlur={formik.handleBlur}\n                            value={formik.values.password}\n                            className='input'\n                        />\n                        {formik.touched.password && formik.errors.password ? (\n                            <div className='error'>{formik.errors.password}</div>\n                        ) : null}\n                    </div>\n\n                    {/* Submit Button */}\n                    <button type=\"submit\" className='btn btn-primary' disabled={formik.isSubmitting}>\n                        Login\n                    </button>\n                </form>\n            </div>\n        </div>\n\n    )\n\n\n\n}\n\nexport default Login\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}